# SolarNexus Production Environment Configuration
# Copy this file to .env.production and fill in the actual values

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DATABASE_URL="postgresql://solarnexus:SECURE_DB_PASSWORD@solarnexus-postgres:5432/solarnexus"
POSTGRES_USER="solarnexus"
POSTGRES_PASSWORD="SECURE_DB_PASSWORD"
POSTGRES_DB="solarnexus"

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_URL="redis://solarnexus-redis:6379"
REDIS_PASSWORD=""

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================
REACT_APP_API_URL="https://nexus.gonxt.tech/api"
REACT_APP_ENVIRONMENT="production"
REACT_APP_VERSION="1.0.0"

# =============================================================================
# JWT AND SECURITY
# =============================================================================
JWT_SECRET="SECURE_JWT_SECRET_KEY_MINIMUM_32_CHARACTERS"
JWT_EXPIRES_IN="24h"
BCRYPT_ROUNDS="12"

# =============================================================================
# SOLAR DATA INTEGRATION APIs
# =============================================================================

# SolaX API Configuration
SOLAX_API_TOKEN="YOUR_PRODUCTION_SOLAX_API_TOKEN"
SOLAX_API_BASE_URL="https://www.solaxcloud.com:9443/proxy/api/getRealtimeInfo.do"

# Weather Data API (OpenWeatherMap)
OPENWEATHER_API_KEY="YOUR_OPENWEATHER_API_KEY"
OPENWEATHER_BASE_URL="https://api.openweathermap.org/data/2.5"

# Municipal Rate APIs (for tariff calculations)
MUNICIPAL_RATE_API_KEY="YOUR_MUNICIPAL_RATE_API_KEY"
MUNICIPAL_RATE_ENDPOINT="https://api.municipality.gov/rates"

# =============================================================================
# EMAIL SERVICE CONFIGURATION
# =============================================================================

# Gmail/Google Workspace (recommended for production)
EMAIL_HOST="smtp.gmail.com"
EMAIL_PORT="587"
EMAIL_SECURE="false"
EMAIL_USER="alerts@nexus.gonxt.tech"
EMAIL_PASS="YOUR_APP_SPECIFIC_PASSWORD"

# Alternative: SendGrid
# EMAIL_SERVICE="sendgrid"
# SENDGRID_API_KEY="YOUR_SENDGRID_API_KEY"

# Alternative: AWS SES
# EMAIL_SERVICE="ses"
# AWS_ACCESS_KEY_ID="YOUR_AWS_ACCESS_KEY"
# AWS_SECRET_ACCESS_KEY="YOUR_AWS_SECRET_KEY"
# AWS_REGION="us-east-1"

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
NODE_ENV="production"
PORT="3000"
API_BASE_URL="https://nexus.gonxt.tech/api"
FRONTEND_URL="https://nexus.gonxt.tech"

# =============================================================================
# MONITORING AND LOGGING
# =============================================================================
LOG_LEVEL="info"
ENABLE_REQUEST_LOGGING="true"
ENABLE_PERFORMANCE_MONITORING="true"

# Sentry (optional - for error tracking)
# SENTRY_DSN="YOUR_SENTRY_DSN"

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_WINDOW_MS="900000"  # 15 minutes
RATE_LIMIT_MAX_REQUESTS="100"
AUTH_RATE_LIMIT_MAX="5"        # Login attempts per window

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================
MAX_FILE_SIZE="10485760"       # 10MB in bytes
UPLOAD_PATH="/app/uploads"

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
CORS_ORIGIN="https://nexus.gonxt.tech,https://www.nexus.gonxt.tech"
CORS_CREDENTIALS="true"

# =============================================================================
# SSL/TLS CONFIGURATION
# =============================================================================
SSL_CERT_PATH="/etc/nginx/ssl/solarnexus.crt"
SSL_KEY_PATH="/etc/nginx/ssl/solarnexus.key"
FORCE_HTTPS="true"

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
BACKUP_ENABLED="true"
BACKUP_SCHEDULE="0 2 * * *"    # Daily at 2 AM
BACKUP_RETENTION_DAYS="30"
BACKUP_S3_BUCKET="solarnexus-backups"

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================
DB_POOL_MIN="2"
DB_POOL_MAX="10"
REDIS_POOL_MIN="1"
REDIS_POOL_MAX="5"

# =============================================================================
# FEATURE FLAGS
# =============================================================================
ENABLE_ANALYTICS="true"
ENABLE_PREDICTIVE_MAINTENANCE="true"
ENABLE_REAL_TIME_SYNC="true"
ENABLE_EMAIL_NOTIFICATIONS="true"

# =============================================================================
# THIRD-PARTY INTEGRATIONS
# =============================================================================

# Google Analytics (optional)
# GA_TRACKING_ID="UA-XXXXXXXXX-X"

# Stripe (for billing - if needed)
# STRIPE_PUBLIC_KEY="pk_live_..."
# STRIPE_SECRET_KEY="sk_live_..."

# Twilio (for SMS alerts - optional)
# TWILIO_ACCOUNT_SID="YOUR_TWILIO_SID"
# TWILIO_AUTH_TOKEN="YOUR_TWILIO_TOKEN"
# TWILIO_PHONE_NUMBER="+1234567890"

# =============================================================================
# DEVELOPMENT/TESTING OVERRIDES
# =============================================================================
# These should be empty in production
DEBUG_MODE=""
MOCK_SOLAR_DATA=""
SKIP_EMAIL_VERIFICATION=""

# =============================================================================
# SECURITY HEADERS
# =============================================================================
SECURITY_HEADERS_ENABLED="true"
HSTS_MAX_AGE="31536000"
CSP_ENABLED="true"

# =============================================================================
# TIMEZONE AND LOCALIZATION
# =============================================================================
TZ="UTC"
DEFAULT_LOCALE="en-US"
SUPPORTED_LOCALES="en-US,en-GB,es-ES,fr-FR"

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================
CACHE_TTL_SOLAR_DATA="300"     # 5 minutes
CACHE_TTL_WEATHER_DATA="1800"  # 30 minutes
CACHE_TTL_TARIFF_DATA="3600"   # 1 hour
CACHE_TTL_ANALYTICS="900"      # 15 minutes